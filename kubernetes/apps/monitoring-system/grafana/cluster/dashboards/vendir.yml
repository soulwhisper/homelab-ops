---
# yaml-language-server: $schema=https://kubernetes-schemas.noirprime.com/vendir.k14s.io/config_v1alpha1.json
apiVersion: vendir.k14s.io/v1alpha1
kind: Config
directories:
  # ---------------------------------------------------------
  # Folder : ceph
  # ---------------------------------------------------------
  - path: _sources/ceph
    contents:
      - path: ceph-cluster
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/2842/revisions/18/download",
          }
      - path: ceph-osd
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/5336/revisions/9/download",
          }
      - path: ceph-pools
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/5342/revisions/9/download",
          }

  # ---------------------------------------------------------
  # Folder : cilium
  # ---------------------------------------------------------
  - path: _sources/cilium
    contents:
      - path: .
        lazy: true
        git:
          url: https://github.com/cilium/cilium
          ref: v1.18.5
        includePaths:
          - install/kubernetes/cilium/files/cilium-agent/dashboards/*.json
          - install/kubernetes/cilium/files/cilium-operator/dashboards/*.json
          - install/kubernetes/cilium/files/hubble/dashboards/*.json

  # ---------------------------------------------------------
  # Folder : database
  # ---------------------------------------------------------
  - path: _sources/database
    contents:
      - path: cnpg
        lazy: true
        git:
          url: https://github.com/cloudnative-pg/grafana-dashboards
          ref: cluster-v0.0.5
        includePaths: ["charts/cluster/grafana-dashboard.json"]

      - path: dragonfly
        lazy: true
        git:
          url: https://github.com/dragonflydb/dragonfly-operator
          ref: v1.3.1
        includePaths: ["monitoring/grafana-dashboard.json"]

  # ---------------------------------------------------------
  # Folder : envoy
  # ---------------------------------------------------------
  - path: _sources/envoy
    contents:
      # Envoy Gateway Official
      - path: gateway
        lazy: true
        git:
          url: https://github.com/envoyproxy/gateway
          ref: v1.6.1
        includePaths:
          - "charts/gateway-addons-helm/dashboards/envoy-*.json"
          - "charts/gateway-addons-helm/dashboards/global-*.json"
      # Envoy Mixin Dashboards
      - path: envoy-mixin-overview
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/24459/revisions/1/download",
          }
      - path: envoy-mixin-upstream
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/24457/revisions/1/download",
          }
      - path: envoy-mixin-downstream
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/24458/revisions/1/download",
          }

  # ---------------------------------------------------------
  # Folder : kubernetes
  # ---------------------------------------------------------
  - path: _sources/kubernetes
    contents:
      - path: k8s-system-api-server
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/15761/revisions/20/download",
          }
      - path: k8s-views-global
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/15757/revisions/43/download",
          }
      - path: k8s-views-nodes
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/15759/revisions/40/download",
          }
      - path: k8s-views-namespaces
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/15758/revisions/44/download",
          }
      - path: k8s-views-pods
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/15760/revisions/37/download",
          }
      - path: k8s-volumes
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/11454/revisions/14/download",
          }

  # ---------------------------------------------------------
  # Folder : victoria-metrics
  # ---------------------------------------------------------
  - path: _sources/victoria
    contents:
      - path: metrics
        lazy: true
        git:
          url: https://github.com/VictoriaMetrics/VictoriaMetrics
          ref: v1.133.0
        includePaths: ["dashboards/*.json"]

      - path: logs
        lazy: true
        git:
          url: https://github.com/VictoriaMetrics/VictoriaLogs
          ref: v1.118.0
        includePaths: ["dashboards/victorialogs*.json"]

  # ---------------------------------------------------------
  # Folder : default
  # ---------------------------------------------------------
  - path: _sources/default
    contents:
      - path: cert-manager
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/20842/revisions/3/download",
          }
      - path: cloudflared
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/17457/revisions/6/download",
          }
      - path: external-dns
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/23969/revisions/1/download",
          }
      - path: node-exporter-full
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/1860/revisions/42/download",
          }
      - path: smartctl-exporter
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/22604/revisions/2/download",
          }
      - path: volsync
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/21356/revisions/3/download",
          }

  # ---------------------------------------------------------
  # Folder : default/infrastructure
  # ---------------------------------------------------------
  - path: _sources/infrastructure
    contents:
      - path: synology
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/14284/revisions/10/download",
          }
      - path: openwrt
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/18153/revisions/4/download",
          }

  # ---------------------------------------------------------
  # Folder : default/devices
  # ---------------------------------------------------------
  - path: _sources/devices
    contents:
      - path: blackbox-exporter
        lazy: true
        http:
          {
            url: "https://grafana.com/api/dashboards/7587/revisions/3/download",
          }
      - path: unifi
        lazy: true
        git:
          url: https://github.com/unpoller/dashboards
          ref: master
        includePaths: ["dashboards/v2.0.0"]
