{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  packageRules: [
    {
      matchDatasources: ["docker"],
      pinDigests: false,
    },
    {
      description: "Override Helmfile Dependency Name",
      matchDatasources: ["docker"],
      matchManagers: ["helmfile"],
      overrideDepName: "{{packageName}}",
    },
    {
      matchDatasources: ["docker"],
      matchPackagePatterns: ["postgresql", "postgres-backup-local"],
      allowedVersions: "<17",
    },
    {
      description: "Configure Emby versioning",
      matchDatasources: ["docker"],
      matchPackageNames: ["ghcr.io/home-operations/emby"],
      versioning: "loose",
    },
    {
      description: "Pin talos version if something breaks",
      matchDatasources: ["docker"],
      matchPackageNames: ["ghcr.io/siderolabs/installer"],
      allowedVersions: ">= v1.9.3",
    },
    {
      description: "Pin kubelet version if something breaks",
      matchDatasources: ["docker"],
      matchPackageNames: ["ghcr.io/siderolabs/kubelet"],
      allowedVersions: ">= v1.32.1",
    },
  ],
}
