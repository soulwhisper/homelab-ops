# Apps: Dockge
# Storage: '/mnt/Arcanum/Apps'
# RegistryMirror: 'm.daocloud.io'

services:
  ollama-apu:
    image: "ghcr.m.daocloud.io/rjmalagon/ollama-linux-amd-apu:latest"
    container_name: "ollama-apu"
    restart: "unless-stopped"
    command: "serve"
    ports:
      - "11434:11434"
    environment:
      - "OLLAMA_FLASH_ATTENTION=true"
      - "HSA_OVERRIDE_GFX_VERSION=11.0.0"
      - "OLLAMA_KV_CACHE_TYPE=q8_0"
      - "OLLAMA_DEBUG=0"
    volumes:
      - "/mnt/Arcanum/Apps/ollama:/root/.ollama"
    devices:
      - "/dev/kfd"
      - "/dev/dri"
